\usepackage[utf8]{inputenc}
\usepackage{ipsum}
\usepackage{graphicx}
\usepackage{geometry}% for setting page dimensions
\usepackage{amsmath}
\usepackage{mathptmx} % Times New Roman font
% Set page margins
\usepackage{float}
\usepackage{setspace} % For line spacing
\usepackage{ragged2e} % For justified text
\usepackage{indentfirst} % For first-line indentation
\usepackage{anyfontsize}
\usepackage{array,longtable,makecell}
\usepackage{fontawesome}
\usepackage{hyperref}
\usepackage{ragged2e} % For better control over text alignment
\usepackage{titlesec} % For customizing section headings
\usepackage{ulem}
%\usepackage[Lenny]{fncychap}
\usepackage{cleveref}
\usepackage{listings}
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\usepackage[most]{tcolorbox} % For alternating background colors
\usepackage{color}
\usepackage{booktabs}
\usepackage{colortbl}
\usepackage{adjustbox}
\usepackage{subcaption}
\usepackage{cite}
\usepackage{minted}
\usepackage{circuitikz}
\usepackage{siunitx}
\usepackage{xstring}
\usepackage{fmtcount} % For converting numbers to words
\usepackage{appendix} % For managing appendices
\tcbuselibrary{breakable} % Required for breakable tcolorboxes
\tcbuselibrary{listings}  
\usepackage{tocloft}         % For creating custom lists
\usepackage{qrcode}

\usepackage{subfiles} % Add this line

\bibliographystyle{ieeetr} % Choose your preferred citation style



\geometry{left=3cm, right=2.5cm, top=3cm, bottom=3cm}
\setlength{\parindent}{1cm} % Set the first line indentation to 1 cm
%size of the thesis
\makeatletter
\renewcommand\large{\@setfontsize\large{14pt}{18pt}}
\renewcommand\Huge{\@setfontsize\Huge{18pt}{22pt}}
\makeatother

% Define custom maketitle command
\newcommand{\universityname}{CYPRUS INTERNATIONAL UNIVERSITY}
\newcommand{\facultyname}{FACULTY OF ENGINEERING }
\newcommand{\departmentname}{DEPARTMENT OF ELECTRICAL AND ELECTRONIC ENGINEERING}
\newcommand{\projecttitle}{INDUSTRIAL AUTONOMOUS GUIDED VEHICLE}
\newcommand{\supe}{ASST. PROF. DR. ZİYA DEREBOYLU}
\newcommand{\supm}{Asst. Prof. Dr. ALİ SHEFIK}
\newcommand{\reportdate}{\today}
\newcommand{\reportplace}{Nicosia, NORTH CYPRUS}
\newcommand{\logo}{\includegraphics[width=6cm]{doc/logo.png}}

\setcounter{secnumdepth}{5}
% Customize section headings

\newcommand{\capitalizefirst}[1]{%
    \StrLeft{#1}{1}[\firstletter]% Extract the first letter
    \StrGobbleLeft{#1}{1}[\restletters]% Extract the rest of the letters
    \MakeUppercase{\firstletter}\lowercase{\restletters}% Capitalize the first letter and lowercase the rest
}

% Redefine \chapter to make everything uppercase and centered
\titleformat{\chapter}[display]
    {\normalfont\fontsize{14}{18}\bfseries\centering} % Center alignment and bold font
    {\MakeUppercase{\chaptertitlename\ \NUMBERstring{chapter}}} % Uppercase "CHAPTER ONE" % Uppercase "CHAPTER 1"
    {1pt} % Space between chapter number and title
    {\MakeUppercase} % Uppercase the chapter title

% Adjust spacing around the chapter title
\titlespacing*{\chapter}{0pt}{50pt}{40pt} % {left}{before}{after}

\titleformat{\section}{\normalfont\fontsize{12}{18}\bfseries\uppercase}{\thesection}{1em}{} % 14 pt, bold, uppercase
\titleformat{\subsection}{\normalfont\fontsize{12}{14}\bfseries}{\thesubsection}{1em}{\capitalizefirst} % 12 pt, bold

% Define subsubsection formatting
\titleformat{\subsubsection}
    {\normalfont\fontsize{12}{14}\selectfont\raggedright} % 12pt, left-aligned
    {\thesubsubsection\quad} % Label (e.g., "1.1.1") with a small space after it
    {0em} % No additional space between label and title
    {\uline} % Underline the title text (using ulem)

% Redefine \paragraph to behave like a standalone section
\titleformat{\paragraph}
    {\normalfont\fontsize{12}{14}} % Formatting: 12pt, bold
    {\theparagraph} % Label (e.g., "1.1.1.1")
    {1em} % Space between label and title
    {} % Additional formatting (empty here)

% Redefine \subparagraph to behave like a standalone section
\titleformat{\subparagraph}
    {\normalfont\fontsize{12}{14}} % Formatting: 12pt, bold
    {\thesubparagraph} % Label (e.g., "1.1.1.1.1")
    {1em} % Space between label and title
    {} % Additional formatting (empty here)

% Ensure \paragraph and \subparagraph start on a new line
\titlespacing*{\paragraph}{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}
\titlespacing*{\subparagraph}{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}


\renewcommand{\emph}[1]{\textit{#1}}


\onehalfspacing % Set line spacing to 1.5
\justifying % Justify tex

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{gray}{rgb}{0.4,0.4,0.4}
\definecolor{darkblue}{rgb}{0.0,0.0,0.6}
\definecolor{cyan}{rgb}{0.0,0.6,0.6}
\definecolor{maroon}{rgb}{0.5,0,0}
\definecolor{darkgreen}{rgb}{0,0.5,0}


\setminted{
    linenos=false,           % Enable line numbers
    fontsize=\small,        % Set font size
    breakanywhere=true,     % Allow breaking at any character
    breaklines=true,        % Wrap long lines
    baselinestretch=1.2,    % Line spacing
    tabsize=4               % Tab size
    % bgcolor and frame options are removed because tcolorbox handles them
}
\usemintedstyle{pastie}   % Use the "monokai" style

\newtcolorbox[auto counter, number within=section]{codebox}[2][]{
    colback=white,          % Background color
    colframe=black,         % Frame color
    boxrule=1pt,            % Frame thickness
    arc=2pt,                % Rounded corners
    breakable,              % Allow page breaks
    enhanced,               % Enhanced features
    title={Code Block \thetcbcounter: #2}, % Title with automatic numbering
    attach boxed title to top left={yshift=-2mm}, % Title placement
    label={#1},             % Label for referencing
    before upper={\addcontentsline{cod}{codeblocks}{\protect\numberline{\thetcbcounter}#2}}, % Add to List of Code Blocks
    #1                      % Optional arguments
}

% Customize cleveref to use "Code Block" for tcolorbox references
\crefname{tcb@cnt@codebox}{code block}{code blocks}
\Crefname{tcb@cnt@codebox}{Code Block}{Code Blocks}

\newcommand{\listofcodeblocksname}{List of Code Blocks}
\newlistof{codeblocks}{cod}{\listofcodeblocksname}

% Customize the appearance of the List of Code Blocks
\setlength{\cftcodeblocksnumwidth}{3.5em} % Increase space for numbers (e.g., "1.1")
\setlength{\cftcodeblocksindent}{1.5em} % Adjust indentation of entries

